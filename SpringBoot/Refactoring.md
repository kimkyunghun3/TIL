```
1. 리팩토링이란 무엇인가?

 리팩토링은 외부동작을 바꾸지 않으면서 내부 구조를 개선하는 방법으로, 소프트웨어 시스템을 변경하는 프로세스이다.

 * 리팩토링시 중요한 점

 소프트웨어를 보다 이해하기 쉽고, 수정하기 쉽도록 만드는 것,  겉으로 보이는 소프트웨어의 기능을 변경하지 않는 것이다.

따라서, 리팩토링을 할 때는 기능을 추가해서는 안되고, 단지 코드의 구조에만 신경 써야한다.

 리팩토링은 가동중인 프로그램을 취해서, 동작을 바꾸는 것이 아니라

 우리가 빠른 속도로 개발할 수 있도록 하는 특성을 좀더 많이 주어,

 프로그램의 가치를 높이는 것이다.

 

2. 리팩토링을 왜 해야 하는가?

- 리팩토링은 소프트웨어의 디자인을 개선시킨다.

  리팩토링이 없다면, 소프트웨어의 의도된 디자인은 시간이 갈 수록 망가져 갈 것이다. 정기적인 리팩토링은 코드가 디자인을 유자하도록 도와준다.

- 리팩토링은 소프트웨어를 더 이해하기 쉽게 만든다.

- 리팩토링은 버그를 찾도록 도와준다.

  프로그램의 구조를 명확히 함으로써 버그가 눈에 더 잘들어 오게 된다.

- 리팩토링은 프로그램을 빨리 작성하도록 도와준다.

  소프트웨어 개발속도를 어느 정도로 유지하기 위해서는 좋은 디자인이 필수다.

  리팩토링은 시스템의 디자인이 나빠지는 것을 멈추게 하여, 보다 빨리 개발할 수 있다록 도와준다.

 

3. 리팩토링을 언제 해야 하는가?

리팩토링을 위해 별도의 시간을 내는 것은 좋지 않다.

리팩토링 자체를 목적으로 삼는 것이 아니라, 어떤 다른 것을 하기 위해 리팩토링을 하는 것이고, 리팩토링은 그 다른 것을 하는데 도움을 준다.

- 삼진규칙 : 스트라이크 세 개면 리팩토링을 한다.

  어떤 것을 처음 할 때는, 그냥 한다.

  두번째로 비슷 어떤 것을 하게 되면, 그냥 중복되도록 한다.

  세 번째로 비슷한 것을 하게 되면, 그때 리팩토링을 한다.

- 기능을 추가할 때 리팩토링을 하라.

 수정해야 할 코드에 대한 이해가 높아진다. 또한 기능 추가가 쉬운 디자인으로 바꿀 수 있다.

- 버그를 수정해야 할 때 리팩토링을 하라.

- 코드 검토(Code Review)를 할 때 리팩토링을 하라.

 

4. 리팩토링을 할 때의 문제점

- 데이터베이스

대부분의 비즈니스 애플리케이션은 데이터베이스 스키마와 밀접하게 결합되어 있다.  데이터베이스 스키마와 객체 모델간의 종속(Dependency)를

최소화하기 위해 계층구조로 만들었다 하더라도,  스키마를 변경하려면 데이터를 마이그레이트 해야 하는데, 시간도 오래 걸리고 위험도 큰 작업이다.

- 인터페이스 변경

객체의 중요한 점 중 하나로 인터페이스를 변경하지 않고 내부 구현을 바꿀 수 있따는 것이다.

객체를 사용하는 부분을 변경하지 않고도 객체의 내부 구조를 안전하게 바꿀 수 있지만,

인터페이스를 변경하면 어떤 일이 발생할지 모르기 때문에 인터페이스를 유지하는 것은 중요하다.

하지만, 많은 리팩토링이 인터페이스를 변경 시킨다.

* 그렇다면 언제 리팩토링을 하지 말아야 하는가?

- 코드를 처음부터 다시 작성해야 할 때

  기존 코드가 너무 엉망이라 처음부터 다시 시자하는 것이 더 쉬운 경우가 있다. 하지만 이런 결정은 쉽게 내릴 수 없고, 가이드 라인도 없다.

- 마감일에 가까울 때.

   리팩토링으로 얻는 생산성 향상은 마감일이 지난 다음에나 나타날 것이다.




```